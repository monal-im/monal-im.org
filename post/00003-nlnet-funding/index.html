<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>NLNet Funding | Monal</title><meta name=keywords content><meta name=description content="We are pleased to announce that we got funding by the EU‚Äôs NGI Assure via the NLnet Foundation to work on some important features in Monal.
In short this consists of the following tasks (in no special order).
1. Implement more privacy-friendly push server The current push appserver (https://github.com/tmolitor-stud-tu/mod_push_appserver) saves more data than strictly needed to perform its task, let‚Äôs change that. On top of that, a possible HA-setup and load balancing should be strived for."><meta name=author content="Monal"><link rel=canonical href=https://monal-im.github.io/monal-im.org/post/00003-nlnet-funding/><link crossorigin=anonymous href=/monal-im.org/assets/css/stylesheet.9279d5fced0ec0b6541875c49fa493f1e664f87315df25fd3e20c47a079d7e21.css integrity="sha256-knnV/O0OwLZUGHXEn6ST8eZk+HMV3yX9PiDEegedfiE=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/monal-im.org/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=apple-touch-icon sizes=57x57 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_57x0_resize_q50_box_3.png>
<link rel=apple-touch-icon sizes=60x60 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_60x0_resize_q50_box_3.png><link rel=apple-touch-icon sizes=72x72 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_72x0_resize_q50_box_3.png><link rel=apple-touch-icon sizes=76x76 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_76x0_resize_q50_box_3.png><link rel=apple-touch-icon sizes=114x114 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_114x0_resize_q50_box_3.png><link rel=apple-touch-icon sizes=120x120 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_120x0_resize_q50_box_3.png><link rel=apple-touch-icon sizes=144x144 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_144x0_resize_q50_box_3.png><link rel=apple-touch-icon sizes=152x152 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_152x0_resize_q50_box_3.png><link rel=apple-touch-icon sizes=180x180 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_180x0_resize_q50_box_3.png><link rel=icon type=image/x-icon href=favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_16x0_resize_q50_box_3.png><link rel=icon type=image/png sizes=32x32 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_32x0_resize_q50_box_3.png><link rel=icon type=image/png sizes=96x96 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_96x0_resize_q50_box_3.png><link rel=icon type=image/png sizes=128x128 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_128x0_resize_q50_box_3.png><link rel=icon type=image/png sizes=196x196 href=https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_196x0_resize_q50_box_3.png><link rel=mask-icon color=red href=favicons/safari-pinned-tab.svg><meta name=application-name content="Monal-IM"><meta name=msapplication-TileColor content="#FFFFFF"><meta name=msapplication-square70x70logo content="https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_70x0_resize_q50_box_3.png"><meta name=msapplication-TileImage content="https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_144x0_resize_q50_box_3.png"><meta name=msapplication-square150x150logo content="https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_150x0_resize_q50_box_3.png"><meta name=msapplication-square310x310logo content="https://monal-im.github.io/monal-im.org/favicons/logo_hu5c261d5fb2d5b79cc5bd3714ad2f2de0_42538_310x0_resize_q50_box_3.png"><link rel=alternate hreflang=en href=https://monal-im.github.io/monal-im.org/post/00003-nlnet-funding/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="NLNet Funding"><meta property="og:description" content="We are pleased to announce that we got funding by the EU‚Äôs NGI Assure via the NLnet Foundation to work on some important features in Monal.
In short this consists of the following tasks (in no special order).
1. Implement more privacy-friendly push server The current push appserver (https://github.com/tmolitor-stud-tu/mod_push_appserver) saves more data than strictly needed to perform its task, let‚Äôs change that. On top of that, a possible HA-setup and load balancing should be strived for."><meta property="og:type" content="article"><meta property="og:url" content="https://monal-im.github.io/monal-im.org/post/00003-nlnet-funding/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-09-11T00:00:00+00:00"><meta property="article:modified_time" content="2022-09-11T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="NLNet Funding"><meta name=twitter:description content="We are pleased to announce that we got funding by the EU‚Äôs NGI Assure via the NLnet Foundation to work on some important features in Monal.
In short this consists of the following tasks (in no special order).
1. Implement more privacy-friendly push server The current push appserver (https://github.com/tmolitor-stud-tu/mod_push_appserver) saves more data than strictly needed to perform its task, let‚Äôs change that. On top of that, a possible HA-setup and load balancing should be strived for."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://monal-im.github.io/monal-im.org/post/"},{"@type":"ListItem","position":2,"name":"NLNet Funding","item":"https://monal-im.github.io/monal-im.org/post/00003-nlnet-funding/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"NLNet Funding","name":"NLNet Funding","description":"We are pleased to announce that we got funding by the EU‚Äôs NGI Assure via the NLnet Foundation to work on some important features in Monal.\nIn short this consists of the following tasks (in no special order).\n1. Implement more privacy-friendly push server The current push appserver (https://github.com/tmolitor-stud-tu/mod_push_appserver) saves more data than strictly needed to perform its task, let‚Äôs change that. On top of that, a possible HA-setup and load balancing should be strived for.","keywords":[],"articleBody":"We are pleased to announce that we got funding by the EU‚Äôs NGI Assure via the NLnet Foundation to work on some important features in Monal.\nIn short this consists of the following tasks (in no special order).\n1. Implement more privacy-friendly push server The current push appserver (https://github.com/tmolitor-stud-tu/mod_push_appserver) saves more data than strictly needed to perform its task, let‚Äôs change that. On top of that, a possible HA-setup and load balancing should be strived for.\n2. Implement basic Audio calls using WebRTC Include WebRTC library into our codebase and wire it up to allow for simple audio calls not involving XMPP (maybe send SDP data through a Monal specific non-standardized XMPP stanza to make this work without hardcoded ip and port).\nThis is to test Audio Calls in the field first before wiring them up using correct XMPP XEPs.\n3. Implement all XEPs needed for Audio Calls To make Audio Calls for XMPP work, we need proper XMPP integration. This wires up the stuff implemented in (2) into the XMPP layer by implementing the proper XEPs listed below. This will add support for 1:1 audio calls to Conversations, Dino and many more XMPP clients.\n4. Implement Video calls using WebRTC On top of the work done in (2) and (3) we want to implement Video Call support as well. This will add support for 1:1 video calls to Conversations, Dino, and more.\n5. Security quickscan We want a security quickscan performed by Radically Open Security and implement mitigations for problems found by them.\n6. Implement MUC UI management (add/remove/promote users etc.) While Monal supports MUCs (multi user chats) in its flavours ‚Äúchannel‚Äù and ‚Äúgroup‚Äù, the app is still lacking proper support for creating and managing group-type MUCs. We will implement that missing piece in this task.\n7. Port addContact UI to SwiftUI The existing UI to add a contact or show pending contact requests is not user-friendly. We will therefore port it to SwiftUI. Once contacts can be added using the new UI, a UI for creating MUCs will be added. Monal will then support the creation of new private MUCs. Additionally, the existing functionality to scan contact QR-Codes and open contact links from other apps / iOS camera will be refactored. After the refactoring the user can preview the action and select an appropriate account before adding the contact.\n8. Add SASL mechanism upgrade capability to XEP-0388 XEP-0388 (‚ÄúExtensible SASL Profile‚Äù) modernizes the old XMPP SASL profile defined in RFC 6120 and reduces round-trips. But neither the old SASL profile nor the new one (dubbed SASL2) solve the problem of SASL mechanism upgrades. A server that saves the hashed password for SCRAM-SHA-1 authentication has no way of upgrading to SCRAM-SHA-256. It does not know the cleartext password to calculate the hash to store itself and no way to ask the client for it. We want to take the opportunity and update the SASL2 XEP before it gets widely deployed to provide a way for a smooth upgrade path that allows the servers to store multiple hashes and get new hashes provided by clients that support the new algorithm without the need of ever knowing the cleartext password.\n9. Implement SASL2 in Monal (including SCRAM SHA1, SHA256 and SHA512) Implement the updated SASL2 XEP and the accompanying XEP-0440 (‚ÄúSASL Channel-Binding Type Capability‚Äù) in Monal which serves as foundation for the implementation of XEP-0397 (‚ÄúInstant Stream Resumption‚Äù).\n10. Write new XEP for downgrade protection of channel-binding types and SASL mechanisms and implement it A Man-In-The-Middle capable of impersonating the XMPP server on the TLS level can use SASL Mechanism Stripping and/or strip channel-binding types to downgrade the security. Adding an optional SCRAM attribute containing the hash of all server-advertised SASL mechanisms and channel-binding types as seen by the client will enable the server to check if any downgrade took place and to abort the authentication, if so. Because the SCRAM attribute will be part of the mutual authentication between client and server, a MITM will not be able to forge it as long as SCRAM is used at all.\n","wordCount":"679","inLanguage":"en","datePublished":"2022-09-11T00:00:00Z","dateModified":"2022-09-11T00:00:00Z","author":{"@type":"Person","name":"Monal"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://monal-im.github.io/monal-im.org/post/00003-nlnet-funding/"},"publisher":{"@type":"Organization","name":"Monal","logo":{"@type":"ImageObject","url":"https://monal-im.github.io/monal-im.org/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://monal-im.github.io/monal-im.org/ accesskey=h title="Monal (Alt + H)">Monal</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://monal-im.github.io/install/ title=Install><span>Install</span></a></li><li><a href=https://monal-im.github.io/support/ title=Support><span>Support</span></a></li><li><a href=https://monal-im.github.io/post/ title=Blog><span>Blog</span></a></li><li><a href=https://monal-im.github.io/privacy/ title=Privacy><span>Privacy</span></a></li><li><a href=https://monal-im.github.io/about/ title=About><span>About</span></a></li><li><a href=https://github.com/monal-im/Monal/wiki/FAQ---Frequently-Asked-Questions title=FAQ><span>FAQ</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://monal-im.github.io/search/ title="Search üîç (Alt + /)" accesskey=/><span>Search üîç</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>NLNet Funding</h1><div class=post-meta><span title='2022-09-11 00:00:00 +0000 UTC'>11.09.2022</span>&nbsp;¬∑&nbsp;4 min&nbsp;¬∑&nbsp;Monal<a href=/index.xml rel="noopener noreferrer" target=_blank>&nbsp;RSS</a></div></header><div class=post-content><p>We are pleased to announce that we got funding by the EU‚Äôs <a href=https://nlnet.nl/assure/>NGI Assure via the NLnet Foundation</a> to work on some important features in Monal.</p><p>In short this consists of the following tasks (in no special order).</p><h3 id=1-implement-more-privacy-friendly-push-server>1. Implement more privacy-friendly push server<a hidden class=anchor aria-hidden=true href=#1-implement-more-privacy-friendly-push-server>#</a></h3><p>The current push appserver (<a href=https://github.com/tmolitor-stud-tu/mod_push_appserver>https://github.com/tmolitor-stud-tu/mod_push_appserver</a>) saves more data than strictly needed to perform its task, let‚Äôs change that. On top of that, a possible HA-setup and load balancing should be strived for.</p><h3 id=2-implement-basic-audio-calls-using-webrtc>2. Implement basic Audio calls using WebRTC<a hidden class=anchor aria-hidden=true href=#2-implement-basic-audio-calls-using-webrtc>#</a></h3><p>Include WebRTC library into our codebase and wire it up to allow for simple audio calls not involving XMPP (maybe send SDP data through a Monal specific non-standardized XMPP stanza to make this work without hardcoded ip and port).</p><p>This is to test Audio Calls in the field first before wiring them up using correct XMPP XEPs.</p><h3 id=3-implement-all-xeps-needed-for-audio-calls>3. Implement all XEPs needed for Audio Calls<a hidden class=anchor aria-hidden=true href=#3-implement-all-xeps-needed-for-audio-calls>#</a></h3><p>To make Audio Calls for XMPP work, we need proper XMPP integration. This wires up the stuff implemented in (2) into the XMPP layer by implementing the proper XEPs listed below. This will add support for 1:1 audio calls to Conversations, Dino and many more XMPP clients.</p><h3 id=4-implement-video-calls-using-webrtc>4. Implement Video calls using WebRTC<a hidden class=anchor aria-hidden=true href=#4-implement-video-calls-using-webrtc>#</a></h3><p>On top of the work done in (2) and (3) we want to implement Video Call support as well. This will add support for 1:1 video calls to Conversations, Dino, and more.</p><h3 id=5-security-quickscan>5. Security quickscan<a hidden class=anchor aria-hidden=true href=#5-security-quickscan>#</a></h3><p>We want a security quickscan performed by Radically Open Security and implement mitigations for problems found by them.</p><h3 id=6-implement-muc-ui-management-addremovepromote-users-etc>6. Implement MUC UI management (add/remove/promote users etc.)<a hidden class=anchor aria-hidden=true href=#6-implement-muc-ui-management-addremovepromote-users-etc>#</a></h3><p>While Monal supports MUCs (multi user chats) in its flavours ‚Äúchannel‚Äù and ‚Äúgroup‚Äù, the app is still lacking proper support for creating and managing group-type MUCs. We will implement that missing piece in this task.</p><h3 id=7-port-addcontact-ui-to-swiftui>7. Port addContact UI to SwiftUI<a hidden class=anchor aria-hidden=true href=#7-port-addcontact-ui-to-swiftui>#</a></h3><p>The existing UI to add a contact or show pending contact requests is not user-friendly. We will therefore port it to SwiftUI. Once contacts can be added using the new UI, a UI for creating MUCs will be added. Monal will then support the creation of new private MUCs. Additionally, the existing functionality to scan contact QR-Codes and open contact links from other apps / iOS camera will be refactored. After the refactoring the user can preview the action and select an appropriate account before adding the contact.</p><h3 id=8-add-sasl-mechanism-upgrade-capability-to-xep-0388>8. Add SASL mechanism upgrade capability to XEP-0388<a hidden class=anchor aria-hidden=true href=#8-add-sasl-mechanism-upgrade-capability-to-xep-0388>#</a></h3><p>XEP-0388 (‚ÄúExtensible SASL Profile‚Äù) modernizes the old XMPP SASL profile defined in RFC 6120 and reduces round-trips. But neither the old SASL profile nor the new one (dubbed SASL2) solve the problem of SASL mechanism upgrades. A server that saves the hashed password for SCRAM-SHA-1 authentication has no way of upgrading to SCRAM-SHA-256. It does not know the cleartext password to calculate the hash to store itself and no way to ask the client for it. We want to take the opportunity and update the SASL2 XEP before it gets widely deployed to provide a way for a smooth upgrade path that allows the servers to store multiple hashes and get new hashes provided by clients that support the new algorithm without the need of ever knowing the cleartext password.</p><h3 id=9-implement-sasl2-in-monal-including-scram-sha1-sha256-and-sha512>9. Implement SASL2 in Monal (including SCRAM SHA1, SHA256 and SHA512)<a hidden class=anchor aria-hidden=true href=#9-implement-sasl2-in-monal-including-scram-sha1-sha256-and-sha512>#</a></h3><p>Implement the updated SASL2 XEP and the accompanying XEP-0440 (‚ÄúSASL Channel-Binding Type Capability‚Äù) in Monal which serves as foundation for the implementation of XEP-0397 (‚ÄúInstant Stream Resumption‚Äù).</p><h3 id=10-write-new-xep-for-downgrade-protection-of-channel-binding-types-and-sasl-mechanisms-and-implement-it>10. Write new XEP for downgrade protection of channel-binding types and SASL mechanisms and implement it<a hidden class=anchor aria-hidden=true href=#10-write-new-xep-for-downgrade-protection-of-channel-binding-types-and-sasl-mechanisms-and-implement-it>#</a></h3><p>A Man-In-The-Middle capable of impersonating the XMPP server on the TLS level can use SASL Mechanism Stripping and/or strip channel-binding types to downgrade the security. Adding an optional SCRAM attribute containing the hash of all server-advertised SASL mechanisms and channel-binding types as seen by the client will enable the server to check if any downgrade took place and to abort the authentication, if so. Because the SCRAM attribute will be part of the mutual authentication between client and server, a MITM will not be able to forge it as long as SCRAM is used at all.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://monal-im.github.io/monal-im.org/>Monal</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>