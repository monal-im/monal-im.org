<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Privacy | Monal</title><meta name=keywords content><meta name=description content="Monal-im.org (Website) A user‚Äôs IP address will be logged in the HTTP server logs. All server logs are purged every two weeks and there isn‚Äôt any way for us to associate this information with any particular individual.
Monal (App) With Monal 5.2.0 we introduce an even more privacy-friendly push system. Please check your Monal version before continuing reading.
How to find out your Monal version
Open Monal Open up the settings menu in the upper left corner (gearwheel) Scroll down to the last entry &ldquo;version&rdquo; Monal (App ‚â• 5."><meta name=author content="Monal"><link rel=canonical href=https://monal-im.github.io/monal-im.org/privacy/><link crossorigin=anonymous href=/monal-im.org/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=https://monal-im.github.io/monal-im.org/favicons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://monal-im.github.io/monal-im.org/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://monal-im.github.io/monal-im.org/favicons/favicon-32x32.png><link rel=apple-touch-icon href=https://monal-im.github.io/monal-im.org/favicons/apple-icon-144x144.png><link rel=mask-icon href=https://monal-im.github.io/monal-im.org/favicons/apple-icon-precomposed.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://monal-im.github.io/monal-im.org/privacy/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Privacy"><meta property="og:description" content="Monal-im.org (Website) A user‚Äôs IP address will be logged in the HTTP server logs. All server logs are purged every two weeks and there isn‚Äôt any way for us to associate this information with any particular individual.
Monal (App) With Monal 5.2.0 we introduce an even more privacy-friendly push system. Please check your Monal version before continuing reading.
How to find out your Monal version
Open Monal Open up the settings menu in the upper left corner (gearwheel) Scroll down to the last entry &ldquo;version&rdquo; Monal (App ‚â• 5."><meta property="og:type" content="article"><meta property="og:url" content="https://monal-im.github.io/monal-im.org/privacy/"><meta property="og:image" content="https://monal-im.github.io/monal-im.org/papermod-cover.png"><meta property="article:section" content><meta property="article:published_time" content="2022-03-12T08:08:57+01:00"><meta property="article:modified_time" content="2022-03-12T08:08:57+01:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://monal-im.github.io/monal-im.org/papermod-cover.png"><meta name=twitter:title content="Privacy"><meta name=twitter:description content="Monal-im.org (Website) A user‚Äôs IP address will be logged in the HTTP server logs. All server logs are purged every two weeks and there isn‚Äôt any way for us to associate this information with any particular individual.
Monal (App) With Monal 5.2.0 we introduce an even more privacy-friendly push system. Please check your Monal version before continuing reading.
How to find out your Monal version
Open Monal Open up the settings menu in the upper left corner (gearwheel) Scroll down to the last entry &ldquo;version&rdquo; Monal (App ‚â• 5."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Privacy","item":"https://monal-im.github.io/monal-im.org/privacy/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Privacy","name":"Privacy","description":"Monal-im.org (Website) A user‚Äôs IP address will be logged in the HTTP server logs. All server logs are purged every two weeks and there isn‚Äôt any way for us to associate this information with any particular individual.\nMonal (App) With Monal 5.2.0 we introduce an even more privacy-friendly push system. Please check your Monal version before continuing reading.\nHow to find out your Monal version\nOpen Monal Open up the settings menu in the upper left corner (gearwheel) Scroll down to the last entry \u0026ldquo;version\u0026rdquo; Monal (App ‚â• 5.","keywords":[],"articleBody":"Monal-im.org (Website) A user‚Äôs IP address will be logged in the HTTP server logs. All server logs are purged every two weeks and there isn‚Äôt any way for us to associate this information with any particular individual.\nMonal (App) With Monal 5.2.0 we introduce an even more privacy-friendly push system. Please check your Monal version before continuing reading.\nHow to find out your Monal version\nOpen Monal Open up the settings menu in the upper left corner (gearwheel) Scroll down to the last entry ‚Äúversion‚Äù Monal (App ‚â• 5.2.0) App Resources are very limited on iOS and macOS. Monal for example can only run a limited time in the background after a user either locked the screen or switched the app. Hence, apps can not simply keep a connection to your xmpp server open 24/7 to inform you about new messages. To overcome these limitations your XMPP-Server can can request our push server to send push messages to Apple. With these push messages we can request Apple to wake up the app on your phone. Once it is woken up it has about 30 seconds to connect to your XMPP server, fetch all new messages and show a push notification for these new messages.\nHow push works Every time that Monal logins at your XMPP servers, it requests your server to inform us once your received an XMPP message while Monal was closed. We therefore requests a Monal specific push token from Apple. Using this Monal specific push token our push server can send push messages via Apples push system to wake up the app on your device.\nOnce push messages are enabled for your Monal instance on your XMPP servers, your XMPP servers will open a encrypted server to server (s2s) connection to one of our push servers. Using this s2s connection your XMPP servers will then request our push servers to wake up Monal every time that new messages should be processed. To wake up your instance your XMPP servers send us:\nyour unique Monal specific push token that was generated by Apple the domain of the XMPP server that you are using. Push We never see your messages. We do not know who you are chatting with. We could only ever track what XMPP domains a push token is/was using. We can not identify a user. Push-Servers We provide two independent push server regions at the moment: Europe and US. By default, each device will choose our Europe based push region unless the device local is set to the US.\nHow to change the push region Open Monal Open up the settings menu in the upper left corner (gearwheel) Open the Notifications menu Scroll down Select a region Push server regions If you are an XMPP server administrator, and you restricted s2s connections, please allow s2s to all our regions.\nRegion Hostname Notice Europe eu.prod.push.monal-im.org US us.prod.push.monal-im.org Push server locations Name Region Hoster Location Notice s1.eu.prod.push.monal-im.org Europe Hetzner Finland s2.eu.prod.push.monal-im.org Europe PHP-Friends Germany s1.us.prod.push.monal-im.org US Fosshost US IPv4 only s2.us.prod.push.monal-im.org US Fosshost US Crash reports and app usage Monal does track crashes and usage data anonymously using the tools provided by Apple. This is opt-in only and controlled by iOS and macOS global settings. If a user decides not to send any data to developers, no crash logs are sent to Monal developers.\nLogs Your local device will contain a log file with all sent and received raw XMPP messages as well as debug logs. It does contain sensitive personal data! This file will never be transferred to us, except if you explicitly (manually) send it to us (e.g. via mail).\nGDPR Subject Access Requests (SAR) European GDPR allows users to request a copy of all data retained about them. Starting with Monal 5.2.0 we no longer see your JIDs (username@domain.tld) in our push servers. We therefore are not able to send you retained data related to your JID. We furthermore are unable to provide your retained data related to your unique push token because we have no way to verify that Apple issued you a provided device ID. If you have questions regarding GDPR, please send us a mail to info@monal-im.org.\nMonal (App \u003c 5.2.0) Monal for iOS and macOS will register for APNS push notifications via a server to server (s2s) connection from your XMPP server to our push server. Your XMPP JID alongside with a push identifier and secret token from Apple, that is only valid for this app, will be saved and logged in the push-server logs. We do not intend to track you. All server logs are purged every two weeks. Our logs allow us to see the following details:\nYour JID (including your server‚Äôs hostname) Time when you register for push notifications Your apple push node and push token that was generated for Monal by Apple Time when your XMPP server triggered a push notification to your Monal device To fulfill its duty, our push server has to hold some information associated with an Apple push token, until Apple marks the token a deleted, which usually means you have uninstalled the app (Info: Apple confirms if a token is still valid on every push). In detail these information consists of:\nThe Apple push token The timestamp of the last push error The timestamp of the last successful push The timestamp of the registration of your device with Monal‚Äôs push-server The timestamp when the registration was renewed A random UUID identifying your device A random secret used by your XMPP server to authenticate a push Push server locations Name Hoster Location Notice ios13push.monal.im AWS US Provided by Anurodh Pokharel\nIPv4 only push.monal.im AWS US Provided by Anurodh Pokharel\nIPv4 only\niOS 12 only Crash reports and app usage Monal does track crashes and usage data anonymously using the tools provided by Apple. This is opt-in only and controlled by iOS and macOS global settings. If a user decides not to send any data to developers, no crash logs are sent to Monal developers.\nLogs Your local device will contain a log file with all sent and received raw XMPP messages as well as debug logs. It does contain sensitive personal data! This file will never be transferred to us, except if you explicitly (manually) send it to us (e.g. via mail).\nGDPR Subject Access Requests (SAR) European GDPR allows users to request a copy of all data retained about them. Please send GDPR requests to info@monal-im.org. As by GDPR we need to validate your JID before answering to your inquiry. Therefore, we will provide you a JID you must send a confirmation to, before we can answer your request and send you all retained data related to your JID.\n","wordCount":"1117","inLanguage":"en","datePublished":"2022-03-12T08:08:57+01:00","dateModified":"2022-03-12T08:08:57+01:00","author":{"@type":"Person","name":"Monal"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://monal-im.github.io/monal-im.org/privacy/"},"publisher":{"@type":"Organization","name":"Monal","logo":{"@type":"ImageObject","url":"https://monal-im.github.io/monal-im.org/favicons/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://monal-im.github.io/monal-im.org/ accesskey=h title="Monal (Alt + H)">Monal</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://monal-im.github.io/monal-im.org/install/ title=Install><span>Install</span></a></li><li><a href=https://monal-im.github.io/monal-im.org/support/ title=Support><span>Support</span></a></li><li><a href=https://monal-im.github.io/monal-im.org/post/ title=Blog><span>Blog</span></a></li><li><a href=https://monal-im.github.io/monal-im.org/privacy/ title=Privacy><span class=active>Privacy</span></a></li><li><a href=https://monal-im.github.io/monal-im.org/about/ title=About><span>About</span></a></li><li><a href=https://monal-im.github.io/monal-im.org/search/ title="Search üîç (Alt + /)" accesskey=/><span>Search üîç</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Privacy</h1><div class=post-meta><span title='2022-03-12 08:08:57 +0100 +0100'>12.03.2022</span>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;Monal<a href=/index.xml rel="noopener noreferrer" target=_blank>&nbsp;RSS</a>&nbsp;|&nbsp;<a href=https://github.com/monal-im/monal-im.org/tree/master/content/privacy.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h1 id=monal-imorg-website>Monal-im.org (Website)<a hidden class=anchor aria-hidden=true href=#monal-imorg-website>#</a></h1><p>A user‚Äôs IP address will be logged in the HTTP server logs.
All server logs are purged every two weeks and there isn‚Äôt any way for us to associate this information with any particular individual.</p><h1 id=monal-app>Monal (App)<a hidden class=anchor aria-hidden=true href=#monal-app>#</a></h1><p>With Monal 5.2.0 we introduce an even more privacy-friendly push system.
Please check your Monal version before continuing reading.</p><p><strong>How to find out your Monal version</strong></p><blockquote><ol><li>Open Monal</li><li>Open up the settings menu in the upper left corner (gearwheel)</li><li>Scroll down to the last entry &ldquo;version&rdquo;</li></ol></blockquote><h2 id=monal-app--520>Monal (App ‚â• 5.2.0)<a hidden class=anchor aria-hidden=true href=#monal-app--520>#</a></h2><p>App Resources are very limited on iOS and macOS.
Monal for example can only run a limited time in the background after a user either locked the screen or switched the app.
Hence, apps can not simply keep a connection to your xmpp server open 24/7 to inform you about new messages.
To overcome these limitations your XMPP-Server can can request our push server to send push messages to Apple.
With these push messages we can request Apple to wake up the app on your phone.
Once it is woken up it has about 30 seconds to connect to your XMPP server, fetch all new messages and show a push notification for these new messages.</p><h3 id=how-push-works>How push works<a hidden class=anchor aria-hidden=true href=#how-push-works>#</a></h3><p>Every time that Monal logins at your XMPP servers, it requests your server to inform us once your received an XMPP message while Monal was closed.
We therefore requests a Monal specific push token from Apple.
Using this Monal specific push token our push server can send push messages via Apples push system to wake up the app on your device.</p><p>Once push messages are enabled for your Monal instance on your XMPP servers, your XMPP servers will open a encrypted server to server (s2s) connection to one of our push servers.
Using this s2s connection your XMPP servers will then request our push servers to wake up Monal every time that new messages should be processed.
To wake up your instance your XMPP servers send us:</p><ul><li>your unique Monal specific push token that was generated by Apple</li><li>the domain of the XMPP server that you are using.</li></ul><h3 id=push>Push<a hidden class=anchor aria-hidden=true href=#push>#</a></h3><ul><li>We <strong>never</strong> see your messages.</li><li>We <strong>do not</strong> know who you are chatting with.</li><li>We could <strong>only</strong> ever track what XMPP domains a push token is/was using.</li><li>We <strong>can not</strong> identify a user.</li></ul><h4 id=push-servers>Push-Servers<a hidden class=anchor aria-hidden=true href=#push-servers>#</a></h4><p>We provide two independent push server regions at the moment: Europe and US.
By default, each device will choose our Europe based push region unless the device local is set to the US.</p><h4 id=how-to-change-the-push-region>How to change the push region<a hidden class=anchor aria-hidden=true href=#how-to-change-the-push-region>#</a></h4><blockquote><ol><li>Open Monal</li><li>Open up the settings menu in the upper left corner (gearwheel)</li><li>Open the Notifications menu</li><li>Scroll down</li><li>Select a region</li></ol></blockquote><h4 id=push-server-regions>Push server regions<a hidden class=anchor aria-hidden=true href=#push-server-regions>#</a></h4><p>If you are an XMPP server administrator, and you restricted s2s connections, please allow s2s to all our regions.</p><table><thead><tr><th>Region</th><th>Hostname</th><th>Notice</th></tr></thead><tbody><tr><td>Europe</td><td>eu.prod.push.monal-im.org</td><td></td></tr><tr><td>US</td><td>us.prod.push.monal-im.org</td><td></td></tr></tbody></table><h4 id=push-server-locations>Push server locations<a hidden class=anchor aria-hidden=true href=#push-server-locations>#</a></h4><table><thead><tr><th>Name</th><th>Region</th><th>Hoster</th><th>Location</th><th>Notice</th></tr></thead><tbody><tr><td>s1.eu.prod.push.monal-im.org</td><td>Europe</td><td>Hetzner</td><td>Finland</td><td></td></tr><tr><td>s2.eu.prod.push.monal-im.org</td><td>Europe</td><td>PHP-Friends</td><td>Germany</td><td></td></tr><tr><td>s1.us.prod.push.monal-im.org</td><td>US</td><td>Fosshost</td><td>US</td><td>IPv4 only</td></tr><tr><td>s2.us.prod.push.monal-im.org</td><td>US</td><td>Fosshost</td><td>US</td><td></td></tr></tbody></table><h3 id=crash-reports-and-app-usage>Crash reports and app usage<a hidden class=anchor aria-hidden=true href=#crash-reports-and-app-usage>#</a></h3><p>Monal does track crashes and usage data anonymously using the tools provided by Apple.
This is opt-in only and controlled by iOS and macOS global settings.
If a user decides not to send any data to developers, no crash logs are sent to Monal developers.</p><h3 id=logs>Logs<a hidden class=anchor aria-hidden=true href=#logs>#</a></h3><p>Your local device will contain a log file with all sent and received raw XMPP messages as well as debug logs.
It does contain sensitive personal data!
This file will never be transferred to us, except if you explicitly (manually) send it to us (e.g. via mail).</p><h3 id=gdpr-subject-access-requests-sar>GDPR Subject Access Requests (SAR)<a hidden class=anchor aria-hidden=true href=#gdpr-subject-access-requests-sar>#</a></h3><p>European GDPR allows users to request a copy of all data retained about them. Starting with Monal 5.2.0 we no longer see your JIDs (<a href=mailto:username@domain.tld>username@domain.tld</a>) in our push servers.
We therefore are not able to send you retained data related to your JID.
We furthermore are unable to provide your retained data related to your unique push token because we have no way to verify that Apple issued you a provided device ID.
If you have questions regarding GDPR, please send us a mail to <a href=mailto:info@monal-im.org>info@monal-im.org</a>.</p><h2 id=monal-app--520-1>Monal (App &lt; 5.2.0)<a hidden class=anchor aria-hidden=true href=#monal-app--520-1>#</a></h2><p>Monal for iOS and macOS will register for APNS push notifications via a server to server (s2s) connection from your XMPP server to our push server.
Your XMPP JID alongside with a push identifier and secret token from Apple, that is only valid for this app, will be saved and logged in the push-server logs.
We do not intend to track you.
All server logs are purged every two weeks.
Our logs allow us to see the following details:</p><ul><li>Your JID (including your server‚Äôs hostname)</li><li>Time when you register for push notifications</li><li>Your apple push node and push token that was generated for Monal by Apple</li><li>Time when your XMPP server triggered a push notification to your Monal device</li></ul><p>To fulfill its duty, our push server has to hold some information associated with an Apple push token, until Apple marks the token a deleted, which usually means you have uninstalled the app (Info: Apple confirms if a token is still valid on every push).
In detail these information consists of:</p><ul><li>The Apple push token</li><li>The timestamp of the last push error</li><li>The timestamp of the last successful push</li><li>The timestamp of the registration of your device with Monal‚Äôs push-server</li><li>The timestamp when the registration was renewed</li><li>A random UUID identifying your device</li><li>A random secret used by your XMPP server to authenticate a push</li></ul><h4 id=push-server-locations-1>Push server locations<a hidden class=anchor aria-hidden=true href=#push-server-locations-1>#</a></h4><table><thead><tr><th>Name</th><th>Hoster</th><th>Location</th><th>Notice</th></tr></thead><tbody><tr><td>ios13push.monal.im</td><td>AWS</td><td>US</td><td>Provided by Anurodh Pokharel<br>IPv4 only</td></tr><tr><td>push.monal.im</td><td>AWS</td><td>US</td><td>Provided by Anurodh Pokharel<br>IPv4 only<br>iOS 12 only</td></tr></tbody></table><h3 id=crash-reports-and-app-usage-1>Crash reports and app usage<a hidden class=anchor aria-hidden=true href=#crash-reports-and-app-usage-1>#</a></h3><p>Monal does track crashes and usage data anonymously using the tools provided by Apple.
This is opt-in only and controlled by iOS and macOS global settings.
If a user decides not to send any data to developers, no crash logs are sent to Monal developers.</p><h3 id=logs-1>Logs<a hidden class=anchor aria-hidden=true href=#logs-1>#</a></h3><p>Your local device will contain a log file with all sent and received raw XMPP messages as well as debug logs.
It does contain sensitive personal data! This file will never be transferred to us, except if you explicitly (manually) send it to us (e.g. via mail).</p><h3 id=gdpr-subject-access-requests-sar-1>GDPR Subject Access Requests (SAR)<a hidden class=anchor aria-hidden=true href=#gdpr-subject-access-requests-sar-1>#</a></h3><p>European GDPR allows users to request a copy of all data retained about them.
Please send GDPR requests to <a href=mailto:info@monal-im.org>info@monal-im.org</a>.
As by GDPR we need to validate your JID before answering to your inquiry.
Therefore, we will provide you a JID you must send a confirmation to, before we can answer your request and send you all retained data related to your JID.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://monal-im.github.io/monal-im.org/>Monal</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>